<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="keywords" content="html">
    <meta name="author" content="Richard Rocuant">
    <title></title>
    <style>
        #rubros{
            display: flex;
            justify-content: space-around;
            font-size: 20px;
        }



    </style>
</head>

<body>
    <div id="rubros">
        <a href="https://www.scratchya.com.ar/cursojs/recuperarporrubro.php?rubro=frutas">Frutas</a>
        <a href="https://www.scratchya.com.ar/cursojs/recuperarporrubro.php?rubro=verduras">Verduras</a>
        <a href="https://www.scratchya.com.ar/cursojs/recuperarporrubro.php?rubro=carnes">Carnes</a>
    </div>
    <ul id="productos"></ul>

    <script>
        recuperar("https://www.scratchya.com.ar/cursojs/recuperarporrubro.php?rubro=frutas")
        function recuperar(urlRubro){
            fetch(urlRubro).then(respuesta => respuesta.json()).then(productos => imprimir(productos))
        }

        function imprimir(productos){
            const lista = productos.map(producto =>`<li>${producto.nombre}</li>`)
            document.querySelector("#productos").innerHTML=lista.join("")
        }
        const lista = document.querySelectorAll("#rubros a")
        lista.forEach(enlace =>{
            enlace.addEventListener('click',evento =>{
                evento.preventDefault()
                recuperar(evento.target.href)
            })
        })


    </script>
</body>

</html>